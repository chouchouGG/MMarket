24-07-31.10:24:05.944 [main            ] INFO  IRaffleRuleTest        - Starting IRaffleRuleTest using Java 1.8.0_402 on wyh-machine with PID 24416 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-07-31.10:24:05.951 [main            ] INFO  IRaffleRuleTest        - The following 1 profile is active: "dev"
24-07-31.10:24:06.853 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-31.10:24:06.855 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-31.10:24:06.891 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
24-07-31.10:24:09.267 [main            ] INFO  Version                - Redisson 3.23.4
24-07-31.10:24:10.350 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:24:10.606 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:24:13.024 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-31.10:24:13.122 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-07-31.10:24:13.308 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#790ac3e0:0/SimpleConnection@409395b9 [delegate=amqp://admin@117.72.77.81:5672/, localPort= 54764]
24-07-31.10:24:13.697 [main            ] INFO  IRaffleRuleTest        - Started IRaffleRuleTest in 8.084 seconds (JVM running for 8.898)
24-07-31.10:24:13.944 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:24:14.443 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:24:14.823 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:24:14.855 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:24:15.014 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:24:15.015 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:24:15.362 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:24:15.366 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:24:15.599 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:24:15.737 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:24:15.740 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:24:15.741 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:27:12.786 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 1.8.0_402 on wyh-machine with PID 14880 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-07-31.10:27:12.807 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-07-31.10:27:13.922 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-31.10:27:13.925 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-31.10:27:14.007 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 0 Redis repository interfaces.
24-07-31.10:27:16.804 [main            ] INFO  Version                - Redisson 3.23.4
24-07-31.10:27:18.107 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:27:18.378 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:27:20.956 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-31.10:27:21.043 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-07-31.10:27:21.213 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#790ac3e0:0/SimpleConnection@6ff8e744 [delegate=amqp://admin@117.72.77.81:5672/, localPort= 55018]
24-07-31.10:27:21.560 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 9.138 seconds (JVM running for 9.95)
24-07-31.10:27:21.759 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:joyboy activityId：100301
24-07-31.10:27:21.787 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:27:22.355 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:27:22.584 [main            ] ERROR RaffleStrategyController - 查询抽奖奖品列表配置失败 userId:joyboy activityId：100301
java.lang.ClassCastException: com.alibaba.fastjson.JSONObject cannot be cast to cn.learn.domain.strategy.model.entity.StrategyAwardEntity
	at cn.learn.infrastructure.persistent.repository.StrategyRepository.queryAwardRuleLockCount(StrategyRepository.java:325)
	at cn.learn.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$97989348.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.learn.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$97b225a.queryAwardRuleLockCount(<generated>)
	at cn.learn.domain.strategy.service.raffle.DefaultRaffleStrategy.queryAwardRuleLockCount(DefaultRaffleStrategy.java:84)
	at cn.learn.trigger.http.RaffleStrategyController.queryRaffleAwardList(RaffleStrategyController.java:103)
	at cn.learn.test.tigger.RaffleStrategyControllerTest.test_queryRaffleAwardList(RaffleStrategyControllerTest.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
24-07-31.10:27:22.605 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"joyboy"}
24-07-31.10:27:22.609 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0001","info":"未知失败"}
24-07-31.10:27:22.647 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:27:22.676 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:27:23.470 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:27:23.594 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:27:23.596 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:27:23.597 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:31:27.870 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 1.8.0_402 on wyh-machine with PID 2536 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-07-31.10:31:27.871 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-07-31.10:31:28.840 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-31.10:31:28.843 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-31.10:31:28.889 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
24-07-31.10:31:31.198 [main            ] INFO  Version                - Redisson 3.23.4
24-07-31.10:31:32.394 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:31:32.634 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:31:35.536 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-31.10:31:35.612 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-07-31.10:31:35.799 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#781c2497:0/SimpleConnection@46fb9581 [delegate=amqp://admin@117.72.77.81:5672/, localPort= 55311]
24-07-31.10:31:36.255 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 8.797 seconds (JVM running for 9.711)
24-07-31.10:31:36.470 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:joyboy activityId：100301
24-07-31.10:31:36.507 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:31:37.110 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:32:06.870 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:32:06.870 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:32:10.753 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:32:10.761 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:33:07.787 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=53s559ms740µs500ns).
24-07-31.10:33:07.788 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=57s285ms300µs700ns).
24-07-31.10:33:07.788 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=53s560ms531µs800ns).
24-07-31.10:33:07.809 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:joyboy activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"9号奖品","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"8号奖品","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"7号奖品","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"6号奖品","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardTitle":"5号奖品","isAwardUnlock":true,"sort":5,"waitUnLockCount":0},{"awardId":106,"awardTitle":"4号奖品","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"3号奖品","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"2号奖品","isAwardUnlock":false,"sort":8,"waitUnLockCount":2},{"awardId":109,"awardRuleLockCount":6,"awardSubtitle":"抽奖6次后解锁","awardTitle":"1号奖品","isAwardUnlock":false,"sort":9,"waitUnLockCount":6}],"info":"成功"}
24-07-31.10:33:07.810 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"joyboy"}
24-07-31.10:33:07.811 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0000","data":[{"awardId":101,"awardTitle":"9号奖品","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"8号奖品","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"7号奖品","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"6号奖品","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardTitle":"5号奖品","isAwardUnlock":true,"sort":5,"waitUnLockCount":0},{"awardId":106,"awardTitle":"4号奖品","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"3号奖品","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"2号奖品","isAwardUnlock":false,"sort":8,"waitUnLockCount":2},{"awardId":109,"awardRuleLockCount":6,"awardSubtitle":"抽奖6次后解锁","awardTitle":"1号奖品","isAwardUnlock":false,"sort":9,"waitUnLockCount":6}],"info":"成功"}
24-07-31.10:33:07.857 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:33:07.893 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:33:08.825 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:33:08.837 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:33:08.860 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:33:08.860 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:34:35.446 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 1.8.0_402 on wyh-machine with PID 35484 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-07-31.10:34:35.452 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-07-31.10:34:36.377 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-31.10:34:36.379 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-31.10:34:36.414 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
24-07-31.10:34:38.585 [main            ] INFO  Version                - Redisson 3.23.4
24-07-31.10:34:39.710 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:34:39.972 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:34:42.379 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-31.10:34:42.477 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-07-31.10:34:42.644 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#790ac3e0:0/SimpleConnection@6ff8e744 [delegate=amqp://admin@117.72.77.81:5672/, localPort= 55667]
24-07-31.10:34:43.051 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 7.943 seconds (JVM running for 8.675)
24-07-31.10:34:43.231 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:joyboy activityId：100301
24-07-31.10:34:43.260 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:34:43.838 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:34:44.068 [main            ] ERROR RaffleStrategyController - 查询抽奖奖品列表配置失败 userId:joyboy activityId：100301
java.lang.ClassCastException: com.alibaba.fastjson.JSONObject cannot be cast to cn.learn.domain.strategy.model.entity.StrategyAwardEntity
	at cn.learn.infrastructure.persistent.repository.StrategyRepository.queryAwardRuleLockCount(StrategyRepository.java:325)
	at cn.learn.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$97989348.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.learn.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$97b225a.queryAwardRuleLockCount(<generated>)
	at cn.learn.domain.strategy.service.raffle.DefaultRaffleStrategy.queryAwardRuleLockCount(DefaultRaffleStrategy.java:84)
	at cn.learn.trigger.http.RaffleStrategyController.queryRaffleAwardList(RaffleStrategyController.java:103)
	at cn.learn.test.tigger.RaffleStrategyControllerTest.test_queryRaffleAwardList(RaffleStrategyControllerTest.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
24-07-31.10:34:44.086 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"joyboy"}
24-07-31.10:34:44.089 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0001","info":"未知失败"}
24-07-31.10:34:44.136 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:34:44.165 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:34:44.928 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:34:45.014 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:34:45.015 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:34:45.073 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:34:45.076 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:34:45.077 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:34:45.084 [scheduling-1    ] ERROR UpdateAwardStockJob    - 【定时任务-1】，更新奖品消耗库存失败
org.springframework.dao.InvalidDataAccessApiUsageException: java.lang.InterruptedException; nested exception is org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:52)
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:35)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.redisson.spring.data.connection.RedissonConnectionFactory.translateExceptionIfPossible(RedissonConnectionFactory.java:91)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.learn.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$97b225a.takeQueueValue(<generated>)
	at cn.learn.domain.strategy.service.raffle.DefaultRaffleStrategy.takeQueueValue(DefaultRaffleStrategy.java:63)
	at cn.learn.trigger.job.UpdateAwardStockJob.exec(UpdateAwardStockJob.java:32)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:114)
	at org.redisson.RedissonObject.get(RedissonObject.java:90)
	at org.redisson.RedissonQueue.poll(RedissonQueue.java:105)
	at cn.learn.infrastructure.persistent.repository.StrategyRepository.takeQueueValue(StrategyRepository.java:255)
	at cn.learn.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$97989348.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 20 common frames omitted
Caused by: java.lang.InterruptedException: null
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:347)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:110)
	... 29 common frames omitted
24-07-31.10:41:47.457 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 1.8.0_402 on wyh-machine with PID 14684 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-07-31.10:41:47.464 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-07-31.10:41:48.375 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-31.10:41:48.377 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-31.10:41:48.429 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
24-07-31.10:41:50.834 [main            ] INFO  Version                - Redisson 3.23.4
24-07-31.10:41:51.985 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:41:52.228 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:41:55.092 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-31.10:41:55.214 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-07-31.10:41:55.397 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#790ac3e0:0/SimpleConnection@6ff8e744 [delegate=amqp://admin@117.72.77.81:5672/, localPort= 56277]
24-07-31.10:41:55.805 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 8.696 seconds (JVM running for 9.436)
24-07-31.10:41:56.001 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:joyboy activityId：100301
24-07-31.10:41:56.030 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:41:56.609 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:41:57.047 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:41:57.366 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:41:57.405 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:joyboy activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"9号奖品","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"8号奖品","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"7号奖品","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"6号奖品","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardTitle":"5号奖品","isAwardUnlock":true,"sort":5,"waitUnLockCount":0},{"awardId":106,"awardTitle":"4号奖品","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"3号奖品","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"2号奖品","isAwardUnlock":false,"sort":8,"waitUnLockCount":2},{"awardId":109,"awardRuleLockCount":6,"awardSubtitle":"抽奖6次后解锁","awardTitle":"1号奖品","isAwardUnlock":false,"sort":9,"waitUnLockCount":6}],"info":"成功"}
24-07-31.10:41:57.406 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"joyboy"}
24-07-31.10:41:57.407 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0000","data":[{"awardId":101,"awardTitle":"9号奖品","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"8号奖品","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"7号奖品","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"6号奖品","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardTitle":"5号奖品","isAwardUnlock":true,"sort":5,"waitUnLockCount":0},{"awardId":106,"awardTitle":"4号奖品","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"3号奖品","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"2号奖品","isAwardUnlock":false,"sort":8,"waitUnLockCount":2},{"awardId":109,"awardRuleLockCount":6,"awardSubtitle":"抽奖6次后解锁","awardTitle":"1号奖品","isAwardUnlock":false,"sort":9,"waitUnLockCount":6}],"info":"成功"}
24-07-31.10:41:57.447 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:41:57.477 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:41:57.678 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:41:57.845 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:41:57.848 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:41:57.848 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:46:29.672 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 1.8.0_402 on wyh-machine with PID 30644 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-07-31.10:46:29.679 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-07-31.10:46:30.533 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-31.10:46:30.536 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-31.10:46:30.572 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
24-07-31.10:46:32.763 [main            ] INFO  Version                - Redisson 3.23.4
24-07-31.10:46:33.940 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:46:34.190 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:46:36.689 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-31.10:46:36.791 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-07-31.10:46:36.969 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#790ac3e0:0/SimpleConnection@6ff8e744 [delegate=amqp://admin@117.72.77.81:5672/, localPort= 56692]
24-07-31.10:46:37.358 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 8.03 seconds (JVM running for 8.769)
24-07-31.10:46:37.543 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:joyboy activityId：100301
24-07-31.10:46:37.575 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:46:38.139 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:46:38.369 [main            ] ERROR RaffleStrategyController - 查询抽奖奖品列表配置失败 userId:joyboy activityId：100301
java.lang.ClassCastException: com.alibaba.fastjson.JSONObject cannot be cast to cn.learn.domain.strategy.model.entity.StrategyAwardEntity
	at cn.learn.infrastructure.persistent.repository.StrategyRepository.queryAwardRuleLockCount(StrategyRepository.java:325)
	at cn.learn.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$97989348.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.learn.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$97b225a.queryAwardRuleLockCount(<generated>)
	at cn.learn.domain.strategy.service.raffle.DefaultRaffleStrategy.queryAwardRuleLockCount(DefaultRaffleStrategy.java:84)
	at cn.learn.trigger.http.RaffleStrategyController.queryRaffleAwardList(RaffleStrategyController.java:103)
	at cn.learn.test.tigger.RaffleStrategyControllerTest.test_queryRaffleAwardList(RaffleStrategyControllerTest.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
24-07-31.10:46:38.392 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"joyboy"}
24-07-31.10:46:38.394 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0001","info":"未知失败"}
24-07-31.10:46:38.429 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:46:38.458 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:46:39.258 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:46:39.382 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:46:39.385 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:46:39.387 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:47:31.594 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 1.8.0_402 on wyh-machine with PID 7876 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-07-31.10:47:31.600 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-07-31.10:47:32.460 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-31.10:47:32.462 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-31.10:47:32.497 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
24-07-31.10:47:34.671 [main            ] INFO  Version                - Redisson 3.23.4
24-07-31.10:47:35.865 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:47:36.153 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:47:38.658 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-31.10:47:38.754 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-07-31.10:47:38.963 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#1b3a9ef4:0/SimpleConnection@7d156f8f [delegate=amqp://admin@117.72.77.81:5672/, localPort= 56833]
24-07-31.10:47:39.414 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 8.169 seconds (JVM running for 8.915)
24-07-31.10:47:39.598 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:joyboy activityId：100301
24-07-31.10:47:39.625 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:47:40.020 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:47:40.021 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:47:40.145 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:47:40.315 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:47:40.386 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:47:40.548 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:joyboy activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"9号奖品","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"8号奖品","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"7号奖品","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"6号奖品","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardTitle":"5号奖品","isAwardUnlock":true,"sort":5,"waitUnLockCount":0},{"awardId":106,"awardTitle":"4号奖品","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"3号奖品","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"2号奖品","isAwardUnlock":false,"sort":8,"waitUnLockCount":2},{"awardId":109,"awardRuleLockCount":6,"awardSubtitle":"抽奖6次后解锁","awardTitle":"1号奖品","isAwardUnlock":false,"sort":9,"waitUnLockCount":6}],"info":"成功"}
24-07-31.10:47:40.550 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"joyboy"}
24-07-31.10:47:40.550 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0000","data":[{"awardId":101,"awardTitle":"9号奖品","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"8号奖品","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"7号奖品","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"6号奖品","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardTitle":"5号奖品","isAwardUnlock":true,"sort":5,"waitUnLockCount":0},{"awardId":106,"awardTitle":"4号奖品","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"3号奖品","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"2号奖品","isAwardUnlock":false,"sort":8,"waitUnLockCount":2},{"awardId":109,"awardRuleLockCount":6,"awardSubtitle":"抽奖6次后解锁","awardTitle":"1号奖品","isAwardUnlock":false,"sort":9,"waitUnLockCount":6}],"info":"成功"}
24-07-31.10:47:40.595 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:47:40.628 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:47:41.279 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:47:41.451 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:47:41.454 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:47:41.454 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:47:45.445 [main            ] INFO  RaffleStrategyControllerTest - Starting RaffleStrategyControllerTest using Java 1.8.0_402 on wyh-machine with PID 23868 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-07-31.10:47:45.446 [main            ] INFO  RaffleStrategyControllerTest - The following 1 profile is active: "dev"
24-07-31.10:47:46.433 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-31.10:47:46.435 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-31.10:47:46.489 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
24-07-31.10:47:48.784 [main            ] INFO  Version                - Redisson 3.23.4
24-07-31.10:47:49.953 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:47:50.208 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-07-31.10:47:52.851 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-31.10:47:52.923 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-07-31.10:47:53.124 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#1b3a9ef4:0/SimpleConnection@7d156f8f [delegate=amqp://admin@117.72.77.81:5672/, localPort= 56935]
24-07-31.10:47:53.555 [main            ] INFO  RaffleStrategyControllerTest - Started RaffleStrategyControllerTest in 8.475 seconds (JVM running for 9.275)
24-07-31.10:47:53.722 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:joyboy activityId：100301
24-07-31.10:47:53.748 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:47:54.244 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:47:54.429 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:47:54.809 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:47:54.978 [main            ] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:joyboy activityId：100301 response: {"code":"0000","data":[{"awardId":101,"awardTitle":"9号奖品","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"8号奖品","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"7号奖品","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"6号奖品","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardTitle":"5号奖品","isAwardUnlock":true,"sort":5,"waitUnLockCount":0},{"awardId":106,"awardTitle":"4号奖品","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"3号奖品","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"2号奖品","isAwardUnlock":false,"sort":8,"waitUnLockCount":2},{"awardId":109,"awardRuleLockCount":6,"awardSubtitle":"抽奖6次后解锁","awardTitle":"1号奖品","isAwardUnlock":false,"sort":9,"waitUnLockCount":6}],"info":"成功"}
24-07-31.10:47:54.980 [main            ] INFO  RaffleStrategyControllerTest - 请求参数：{"activityId":100301,"userId":"joyboy"}
24-07-31.10:47:54.981 [main            ] INFO  RaffleStrategyControllerTest - 测试结果：{"code":"0000","data":[{"awardId":101,"awardTitle":"9号奖品","isAwardUnlock":true,"sort":1,"waitUnLockCount":0},{"awardId":102,"awardTitle":"8号奖品","isAwardUnlock":true,"sort":2,"waitUnLockCount":0},{"awardId":103,"awardTitle":"7号奖品","isAwardUnlock":true,"sort":3,"waitUnLockCount":0},{"awardId":104,"awardTitle":"6号奖品","isAwardUnlock":true,"sort":4,"waitUnLockCount":0},{"awardId":105,"awardTitle":"5号奖品","isAwardUnlock":true,"sort":5,"waitUnLockCount":0},{"awardId":106,"awardTitle":"4号奖品","isAwardUnlock":true,"sort":6,"waitUnLockCount":0},{"awardId":107,"awardRuleLockCount":1,"awardSubtitle":"抽奖1次后解锁","awardTitle":"3号奖品","isAwardUnlock":false,"sort":7,"waitUnLockCount":1},{"awardId":108,"awardRuleLockCount":2,"awardSubtitle":"抽奖2次后解锁","awardTitle":"2号奖品","isAwardUnlock":false,"sort":8,"waitUnLockCount":2},{"awardId":109,"awardRuleLockCount":6,"awardSubtitle":"抽奖6次后解锁","awardTitle":"1号奖品","isAwardUnlock":false,"sort":9,"waitUnLockCount":6}],"info":"成功"}
24-07-31.10:47:55.012 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-07-31.10:47:55.019 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:47:55.052 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-07-31.10:47:55.317 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-07-31.10:47:55.443 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:47:55.595 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-07-31.10:47:55.598 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-07-31.10:47:55.599 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-03.16:39:52.179 [main            ] INFO  BehaviorRebateServiceTest - Starting BehaviorRebateServiceTest using Java 1.8.0_402 on wyh-machine with PID 31988 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-08-03.16:39:52.180 [main            ] INFO  BehaviorRebateServiceTest - The following 1 profile is active: "dev"
24-08-03.16:39:53.297 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-03.16:39:53.300 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-03.16:39:53.357 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
24-08-03.16:39:55.968 [main            ] INFO  Version                - Redisson 3.23.4
24-08-03.16:39:57.012 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-08-03.16:39:57.264 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-08-03.16:39:59.908 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-03.16:39:59.994 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-08-03.16:40:00.218 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#72a7aa4f:0/SimpleConnection@5d7ff311 [delegate=amqp://admin@117.72.77.81:5672/, localPort= 61594]
24-08-03.16:40:00.677 [main            ] INFO  BehaviorRebateServiceTest - Started BehaviorRebateServiceTest in 8.891 seconds (JVM running for 9.899)
24-08-03.16:40:00.923 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-08-03.16:40:01.517 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-08-03.16:40:01.590 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-08-03.16:40:01.893 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-08-03.16:40:02.396 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:send_rebate message:{"data":{"bizId":"joyboy_sku_2024-08-03","rebateConfig":"9011","rebateDesc":"签到返利-sku额度","rebateType":"sign","userId":"joyboy"},"id":"36622899939","timestamp":1722674401584}
24-08-03.16:40:02.459 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:send_rebate message:{"data":{"bizId":"joyboy_integral_2024-08-03","rebateConfig":"10","rebateDesc":"签到返利-积分","rebateType":"sign","userId":"joyboy"},"id":"45293272658","timestamp":1722674401586}
24-08-03.16:40:02.527 [main            ] INFO  BehaviorRebateServiceTest - 请求参数：{"behaviorType":"SIGN","outBusinessNo":"2024-08-03","userId":"joyboy"}
24-08-03.16:40:02.531 [main            ] INFO  BehaviorRebateServiceTest - 测试结果：["593046105270","125664407306"]
24-08-03.16:40:02.572 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-03.16:40:02.608 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-03.16:40:02.723 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-03.16:40:03.540 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-03.16:40:03.542 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-03.16:40:03.542 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-03.17:08:00.276 [main            ] INFO  BehaviorRebateServiceTest - Starting BehaviorRebateServiceTest using Java 1.8.0_402 on wyh-machine with PID 18328 (started by 98389 in E:\Java_code\MMarket\MMarket-app)
24-08-03.17:08:00.277 [main            ] INFO  BehaviorRebateServiceTest - The following 1 profile is active: "dev"
24-08-03.17:08:01.315 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-08-03.17:08:01.317 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-08-03.17:08:01.368 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
24-08-03.17:08:03.785 [main            ] INFO  Version                - Redisson 3.23.4
24-08-03.17:08:04.786 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.77.81/117.72.77.81:16379
24-08-03.17:08:05.030 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.77.81/117.72.77.81:16379
24-08-03.17:08:07.613 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-08-03.17:08:07.695 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [117.72.77.81:5672]
24-08-03.17:08:07.874 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#72a7aa4f:0/SimpleConnection@5d7ff311 [delegate=amqp://admin@117.72.77.81:5672/, localPort= 63430]
24-08-03.17:08:08.300 [main            ] INFO  BehaviorRebateServiceTest - Started BehaviorRebateServiceTest in 8.405 seconds (JVM running for 9.268)
24-08-03.17:08:08.548 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-08-03.17:08:09.075 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-08-03.17:08:09.136 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-08-03.17:08:09.459 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-08-03.17:08:10.003 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:send_rebate message:{"data":{"bizId":"joyboy_sku_2024-08-02","rebateConfig":"9011","rebateType":"sign","userId":"joyboy"},"id":"28427236182","timestamp":1722676089133}
24-08-03.17:08:10.019 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-08-03.17:08:10.090 [main            ] INFO  EventPublisher         - 发送MQ消息 topic:send_rebate message:{"data":{"bizId":"joyboy_integral_2024-08-02","rebateConfig":"10","rebateType":"sign","userId":"joyboy"},"id":"96594968349","timestamp":1722676089134}
24-08-03.17:08:10.171 [main            ] INFO  BehaviorRebateServiceTest - 请求参数：{"behaviorType":"SIGN","outBusinessNo":"2024-08-02","userId":"joyboy"}
24-08-03.17:08:10.174 [main            ] INFO  BehaviorRebateServiceTest - 测试结果：["849846496638","074916886728"]
24-08-03.17:08:10.212 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-03.17:08:10.240 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-08-03.17:08:10.328 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-08-03.17:08:10.334 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-03.17:08:11.192 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-08-03.17:08:11.201 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-08-03.17:08:11.203 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
